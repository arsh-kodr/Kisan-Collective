{
  "info": {
    "name": "Kisan Collective API",
    "_postman_id": "a1b2c3d4-e5f6-7890-1234-56789abcdef0",
    "description": "Postman collection for testing all routes of Kisan Collective backend (Auth, User, Listings, Lots, Bids)",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Health Check",
      "request": {
        "method": "GET",
        "header": [],
        "url": "{{base_url}}/api/health"
      }
    },
    {
      "name": "Auth",
      "item": [
        {
          "name": "Register Farmer",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "url": "{{base_url}}/api/auth/register",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"farmer1\",\n  \"fullName\": {\"firstName\": \"Ram\", \"lastName\": \"Singh\"},\n  \"email\": \"farmer1@example.com\",\n  \"password\": \"password123\",\n  \"mobile\": \"9876543210\",\n  \"role\": \"farmer\"\n}"
            }
          }
        },
        {
          "name": "Register Buyer",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "url": "{{base_url}}/api/auth/register",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"buyer1\",\n  \"fullName\": {\"firstName\": \"Shyam\", \"lastName\": \"Patel\"},\n  \"email\": \"buyer1@example.com\",\n  \"password\": \"password123\",\n  \"mobile\": \"9876500000\",\n  \"role\": \"buyer\"\n}"
            }
          }
        },
        {
          "name": "Register FPO",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "url": "{{base_url}}/api/auth/register",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"fpo1\",\n  \"fullName\": {\"firstName\": \"Fpo\", \"lastName\": \"Collective\"},\n  \"email\": \"fpo1@example.com\",\n  \"password\": \"password123\",\n  \"mobile\": \"9876511111\",\n  \"role\": \"fpo\"\n}"
            }
          }
        },
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "url": "{{base_url}}/api/auth/login",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"farmer1@example.com\",\n  \"password\": \"password123\"\n}"
            }
          }
        },
        {
          "name": "Profile (Protected)",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{base_url}}/api/auth/profile"
          }
        }
      ]
    },
    {
      "name": "User",
      "item": [
        {
          "name": "Get Profile",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{base_url}}/api/user/profile"
          }
        },
        {
          "name": "Update Profile",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": "{{base_url}}/api/user/profile",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fullName\": {\"firstName\": \"Updated\", \"lastName\": \"Farmer\"},\n  \"mobile\": \"9998887777\"\n}"
            }
          }
        },
        {
          "name": "Change Password",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": "{{base_url}}/api/user/profile/password",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"oldPassword\": \"password123\",\n  \"newPassword\": \"newpass456\"\n}"
            }
          }
        },
        {
          "name": "Delete Account",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{base_url}}/api/user/profile"
          }
        }
      ]
    },
    {
      "name": "Listings (Farmer)",
      "item": [
        {
          "name": "Create Listing",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{farmer_token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": "{{base_url}}/api/listings",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"crop\": \"Wheat\",\n  \"quantityKg\": 500,\n  \"harvestDate\": \"2025-08-01\",\n  \"expectedPricePerKg\": 22,\n  \"location\": \"Village A\"\n}"
            }
          }
        },
        {
          "name": "Get All Listings",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{base_url}}/api/listings"
          }
        }
      ]
    },
    {
      "name": "Lots (FPO)",
      "item": [
        {
          "name": "Create Lot",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{fpo_token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": "{{base_url}}/api/lots",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Wheat Lot 1\",\n  \"listingId\": [\"<listingId>\"]\n}"
            }
          }
        },
        {
          "name": "Get All Lots",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{base_url}}/api/lots"
          }
        }
      ]
    },
    {
      "name": "Bids (Buyer)",
      "item": [
        {
          "name": "Place Bid",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{buyer_token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": "{{base_url}}/api/bids/place-bid",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"lotId\": \"<lotId>\",\n  \"amount\": 12000\n}"
            }
          }
        },
        {
          "name": "Get My Bids",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{buyer_token}}" }],
            "url": "{{base_url}}/api/bids/my-bids"
          }
        },
        {
          "name": "Get Highest Bid for Lot",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{base_url}}/api/bids/lots/<lotId>/highest"
          }
        },
        {
          "name": "Close Auction (FPO/Admin)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{fpo_token}}" }
            ],
            "url": "{{base_url}}/api/bids/lots/<lotId>/close"
          }
        }
      ]
    }
  ],
"variable": [
  { "key": "base_url", "value": "http://localhost:3000" },
  { "key": "token", "value": "" },
  { "key": "farmer_token", "value": "" },
  { "key": "buyer_token", "value": "" },
  { "key": "fpo_token", "value": "" }
]

}
